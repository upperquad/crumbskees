{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./assets/front-end/images/bkg1.jpg","webpack:///./assets/front-end/images/pattern.png","webpack:///./assets/front-end/images/find-cat.png","webpack:///./templates/front-end/game.html","webpack:///./templates/front-end/setup.html","webpack:///./node_modules/uuid/v1.js","webpack:///./node_modules/uuid/lib/rng-browser.js","webpack:///./node_modules/uuid/lib/bytesToUuid.js","webpack:///./js/front-end/utils/createCustomEvent.js","webpack:///./js/front-end/managers/RAFManager.js","webpack:///./js/front-end/utils/time.js","webpack:///./js/front-end/utils/ease.js","webpack:///./js/front-end/utils/math.js","webpack:///./js/front-end/components/Scene.js","webpack:///./js/front-end/utils/dom.js","webpack:///./js/front-end/components/Player.js","webpack:///./js/front-end/managers/GameManager.js","webpack:///./js/front-end/app.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_nodeId","_clockseq","rng","bytesToUuid","_lastMSecs","_lastNSecs","options","buf","offset","b","node","clockseq","undefined","seedBytes","msecs","Date","getTime","nsecs","dt","Error","tl","tmh","getRandomValues","crypto","window","msCrypto","rnds8","Uint8Array","rnds","Array","Math","random","byteToHex","toString","substr","bth","join","createCustomEvent","eventName","data","arguments","length","CustomEvent","detail","RAFManager","_this","this","_classCallCheck","_defineProperty","now","raf","requestAnimationFrame","handleRAF","dispatchEvent","cancelAnimationFrame","getNow","performance","inOutSine","cos","PI","clamp","min","max","tmp","Scene","Scene_classCallCheck","Scene_defineProperty","e","scrollY","document","documentElement","scrollTop","player","GameManager","players","playerIds","eventX","touches","clientX","offsetLeft","eventY","clientY","targetX","width","vbWidth","targetY","height","vbHeight","offsetTop","playerId","precision","clickPrecision","x","y","items","item","found","score","el","style","opacity","debugEl","numItemFound","isEnded","endScene","acceleration","destAcceleration","coefAcceleration","points","point","percent","startAnim","duration","startX","destX","startY","destY","reverseAnim","targetMaxX","targetMaxY","targetMinX","targetMinY","setAttribute","cardinal","element","bkg","maskedBkg","numItems","gridCols","gridLines","index","time","dom","set","svgScene","querySelector","svgMaskedImage","svgClipPath","svgClipPathRef","elem","setBkgs","increaseMax","itemSize","offsetWidth","offsetHeight","parentNode","getBoundingClientRect","left","bounds","bodyTop","body","top","getOffsetTop","setClipPathId","setGrid","setItems","events","eventsRAF","popUpMessage","startTimer","id","uuidv1","concat","positionsInGrid","j","obj","push","rd","floor","splice","svgImage","createElementNS","setAttributeNS","appendChild","div","createElement","classList","add","backgroundImage","method","handleClick","tension","nbPoints","path","p0","p1","p2","p3","x1","y1","x2","y2","Player","props","Player_classCallCheck","color","numPoints","centerX","centerY","minRadius","maxRadius","minMiddleRadius","maxMiddleRadius","minDuration","maxDuration","isInsideTime","setPoints","slice","startAngle","margeAngle","angle","sin","host","location","origin","replace","debug","tokens","GameManager_classCallCheck","GameManager_defineProperty","main","innerHTML","setupTmp","setupMessage","websocket","onmessage","listenServer","event","split","validToken","firstPlayerId","send","init","parseFloat","currentScene","WebSocket","onopen","onWsOpen","gameTmp","scenes","scene1Bkg","scene1Item","effect","scene2Bkg","scores","currentSceneIndex","loadBkg","_this2","img","Image","src","onload","setPlayers","scene","imagePlaceholder","_objectSpread","cursors","querySelectorAll","message","scoreCenterRecap","scoreItems","timer","colors","seconds","_this3","timerInterval","setInterval","parseInt","end","setTimeout","remove","_this4","clearInterval","updateScene","console","log","destroyScene","destroy","Function"],"mappings":"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","file":"js/game.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 15);\n","module.exports = __webpack_public_path__ + \"1c90d905ac4dde167115cc874fbd9817.jpg\";","module.exports = __webpack_public_path__ + \"479e9356c0500039ef4f746ba8022ade.png\";","module.exports = __webpack_public_path__ + \"37eb80a527de10e223e82cd4851a41d1.png\";","module.exports = \"<!-- big cursor -->\\n<section class=\\\"game\\\" game>\\n  <!-- playing scene -->\\n  <div class=\\\"scene\\\" scene>\\n    <div class=\\\"scene__wrapper\\\">\\n      <!-- svg scene for masks etc... -->\\n      <svg class=\\\"scene-svg\\\" viewBox=\\\"0 0 1036 632\\\" stroke=\\\"black\\\">\\n        <defs>\\n          <clipPath class=\\\"scene-svg__clippath\\\">\\n            <use xlink:href=\\\"#player1\\\" />\\n            <use xlink:href=\\\"#player2\\\" />\\n          </clipPath>\\n        </defs>\\n        <path id=\\\"player1\\\" class=\\\"cursor\\\" stroke-width=\\\"6\\\"></path>\\n        <path id=\\\"player2\\\" class=\\\"cursor\\\" stroke-width=\\\"6\\\"></path>\\n        <g class=\\\"scene-svg__clippath-ref\\\">\\n          <image class=\\\"scene-svg__image\\\" width=\\\"100%\\\" height=\\\"100%\\\" preserveAspectRatio=\\\"xMidYMid slice\\\" />\\n        </g>\\n      </svg>\\n      <div class=\\\"scene__placeholder\\\"></div>\\n    </div>\\n    <div class=\\\"timer t-32--bold\\\"></div>\\n  </div>\\n  <!-- score board -->\\n  <div class=\\\"score\\\">\\n    <div class=\\\"score__recap\\\">\\n      <div class=\\\"color--red t-32--bold\\\">P-1:</div>\\n      <div class=\\\"score__items\\\">\\n        <!-- <img class=\\\"score__item\\\" src=\\\"../images/pattern.png\\\" alt=\\\"\\\"> -->\\n      </div>\\n    </div>\\n    <div class=\\\"score__center\\\">\\n      <p class=\\\"t-32--bold\\\">Item to find:</p>\\n      <img class=\\\"score__item\\\" src=\\\"\" + require(\"../../assets/front-end/images/pattern.png\") + \"\\\" alt=\\\"\\\">\\n      <p class=\\\"score__center__recap color--red t-32--bold\\\">P-1 : 0</p>\\n      <p class=\\\"score__center__recap color--blue t-32--bold\\\">P-2 : 0</p>\\n    </div>\\n    <div class=\\\"score__recap\\\">\\n      <div class=\\\"color--blue t-32--bold\\\">P-2:</div>\\n      <div class=\\\"score__items\\\">\\n        <!-- <img class=\\\"score__item\\\" src=\\\"../images/pattern.png\\\" alt=\\\"\\\"> -->\\n      </div>\\n    </div>\\n  </div>\\n</section>\";","module.exports = \"<!-- big cursor -->\\n<section class=\\\"setup\\\">\\n  <!-- playing scene -->\\n  <div class=\\\"setup__message t-64--bold\\\">\\n  </div>\\n</section>\";","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","function createCustomEvent(eventName, data = {}) {\n  const event = new CustomEvent(eventName, {\n    detail: data,\n  })\n  return event\n}\n\nexport default createCustomEvent\n","import createCustomEvent from '../utils/createCustomEvent'\n\nclass RAFManager {\n  constructor() {\n    this.handleRAF(0)\n  }\n\n  handleRAF = now => {\n    // now === time in ms\n    this.raf = requestAnimationFrame(this.handleRAF)\n    window.dispatchEvent(createCustomEvent('RAF', { now }))\n  }\n\n  restart = () => {\n    this.handleRAF(0)\n  }\n\n  cancel = () => {\n    cancelAnimationFrame(this.raf)\n  }\n}\n\nexport default new RAFManager()\n","export function getNow() {\n  return 'now' in window.performance ? performance.now() : new Date().getTime()\n}","export function outExpo(n) {\n  if (n === 1) {\n    return n\n  }\n\n  return 1 - (2 ** (-10 * n))\n}\n\nexport function inOutSine(n) {\n\treturn .5 * (1 - Math.cos(Math.PI * n));\n}","export function clamp(value, min, max) {\n\n\treturn Math.min(Math.max(value, min), max)\n}\n\nexport function random(min, max) {\n\t // return random value between min and max\n  if (min > max) {\n    const tmp = min\n    min = max\n    max = tmp\n  }\n  return min + (max - min) * Math.random()\n}\n\nexport function randomInt(min, max) {\n\n\treturn Math.floor(Math.random() * (max - min + 1)) + min\n}\n\n\n","import uuidv1 from 'uuid/v1'\nimport { getNow } from '../utils/time'\nimport { getOffsetTop, getOffsetLeft } from '../utils/dom'\nimport { inOutSine } from '../utils/ease'\nimport { clamp, randomInt } from '../utils/math'\n\nexport default class Scene {\n  constructor(options) {\n    this.element = options.el\n    this.bkg = options.bkg\n    this.maskedBkg = options.maskedBkg\n    this.item = options.item\n    this.numItems = options.numItems\n    this.gridCols = options.gridCols\n    this.gridLines = options.gridLines\n    this.index = options.index\n    this.time = 60 // in seconds\n\n    this.dom()\n    this.set()\n  }\n\n  dom() {\n    this.dom = {\n      svgScene: this.element.querySelector('.scene-svg'),\n      svgMaskedImage: this.element.querySelector('.scene-svg__image'),\n      svgClipPath: this.element.querySelector('.scene-svg__clippath'),\n      svgClipPathRef: this.element.querySelector('.scene-svg__clippath-ref'),\n    }\n  }\n\n  set() {\n    this.setBkgs()\n\n    // assuming we always use a viewbox of 100 x 100\n    this.acceleration = 1\n    this.destAcceleration = 1\n    this.coefAcceleration = 0.2\n    this.increaseMax = window.GameManager.vbWidth * 0.07\n    // items\n    this.itemSize = window.GameManager.vbWidth * 0.05\n\n    // values for mouse event\n    this.clickPrecision = 0.05\n    this.numItemFound = 0\n\n    // values for DOM scene\n    this.width = this.element.offsetWidth\n    this.height = this.element.offsetHeight\n    this.offsetLeft = getOffsetLeft(this.element.parentNode)\n    this.offsetTop = getOffsetTop(this.element.parentNode)\n\n    if (this.dom.svgClipPath) {\n      this.setClipPathId()\n    }\n    this.setGrid()\n    this.setItems()\n\n    // start events\n    this.events(true)\n    this.eventsRAF(true)\n\n    window.GameManager.popUpMessage('START!', 'black')\n    window.GameManager.startTimer(this.time)\n  }\n\n  setClipPathId() {\n    this.dom.svgClipPath.id = uuidv1()\n    this.dom.svgClipPathRef.setAttribute('clip-path', `url(#${this.dom.svgClipPath.id})`)\n  }\n\n  setGrid() {\n    this.positionsInGrid = []\n    let x\n    let y\n\n    for (let i = 0; i < this.gridCols; i++) {\n      x = i + 0.5 // add half\n      for (let j = 0; j < this.gridLines; j++) {\n        y = j + 0.5 // add half\n        const obj = { x, y }\n        this.positionsInGrid.push(obj)\n      }\n    }\n  }\n\n  setItems() {\n    this.items = []\n\n    for (let i = 0; i < this.numItems; i++) {\n      // randomize\n      const rd = randomInt(0, this.positionsInGrid.length - 1)\n      const x = this.positionsInGrid[rd].x / this.gridCols\n      const y = this.positionsInGrid[rd].y / this.gridLines\n      this.positionsInGrid.splice(rd, 1)\n\n      // svg items\n      // need to precise that we're using the svg namespace\n      const svgImage = document.createElementNS('http://www.w3.org/2000/svg', 'image')\n      svgImage.setAttributeNS(null, 'height', this.itemSize)\n      svgImage.setAttributeNS(null, 'width', this.itemSize)\n      svgImage.setAttributeNS('http://www.w3.org/1999/xlink', 'href', this.item)\n      svgImage.setAttributeNS(null, 'x', `${x * 100}%`)\n      svgImage.setAttributeNS(null, 'y', `${y * 100}%`)\n      svgImage.setAttributeNS(null, 'transform', `translate(-${this.itemSize / 2} -${this.itemSize / 2})`)\n      svgImage.setAttributeNS(null, 'preserveAspectRatio', 'xMidYMid slice')\n\n      this.dom.svgClipPathRef.appendChild(svgImage)\n\n      // fake item for debugging\n      const div = document.createElement('div')\n      div.classList.add('debug')\n      div.style.left = `${x * 100}%`\n      div.style.top = `${y * 100}%`\n      this.element.appendChild(div)\n\n      const obj = {\n        el: svgImage,\n        debugEl: div,\n        x,\n        y,\n      }\n      // between 0 and 1\n      this.items.push(obj)\n    }\n  }\n\n  setBkgs() {\n    // set viewbox values, fit Image to scene\n    this.dom.svgScene.setAttribute('viewBox', `0 0 ${window.GameManager.vbWidth} ${window.GameManager.vbHeight}`)\n    // Add masked bkg\n    this.dom.svgMaskedImage.setAttributeNS('http://www.w3.org/1999/xlink', 'href', this.bkg)\n    this.dom.svgMaskedImage.setAttributeNS(null, 'preserveAspectRatio', 'xMidYMid slice')\n    // Add \"front\" bkg\n    this.element.style.backgroundImage = `url(${this.maskedBkg})`\n  }\n\n  // ////////\n  // Events\n  // ////////\n\n  events(method) {\n    const ev = method ? 'addEventListener' : 'removeEventListener'\n    // window[ev]('mousemove', this.handleMouseMove, false)\n    window[ev]('click', this.handleClick, false)\n  }\n\n  eventsRAF(method) {\n    const ev = method ? 'addEventListener' : 'removeEventListener'\n    window[ev]('RAF', this.handleRAF, false)\n  }\n\n  handleMouseMove = e => {\n    const scrollY = window.scrollY || document.documentElement.scrollTop\n    const player = window.GameManager.players[window.GameManager.playerIds[0]]\n\n    player.eventX = e.touches ? e.touches[0].clientX : e.clientX\n    player.eventX -= this.offsetLeft\n    player.eventY = e.touches ? e.touches[0].clientY : e.clientY\n    player.eventY += scrollY\n\n    player.targetX = player.eventX / this.width * window.GameManager.vbWidth // because we're using viewbox units here\n    player.targetX -= window.GameManager.vbWidth / 2 // because starting point is player.centerX\n    player.targetY = player.eventY / this.height * window.GameManager.vbHeight - this.offsetTop\n    player.targetY -= window.GameManager.vbHeight / 2\n\n    // ^These shoudl be linked to a cursor\n  }\n\n  handleClick = playerId => {\n    // console.log(e)\n    // e will be current cursor with positions\n    // if cursor position\n    // Check if cursor item is found\n    const precision = this.clickPrecision\n    const player = window.GameManager.players[playerId]\n    const x = (player.targetX / window.GameManager.vbWidth) + 0.5\n    const y = (player.targetY / window.GameManager.vbHeight) + 0.5\n\n    for (let i = 0; i < this.items.length; i++) {\n      const item = this.items[i]\n      if (!item.found &&\n        x > item.x - precision &&\n        x < item.x + precision &&\n        y > item.y - precision &&\n        y < item.y + precision) {\n        window.GameManager.score(player, this.item)\n        item.found = true\n        item.el.style.opacity = 0\n        item.debugEl.style.opacity = 0\n\n        this.numItemFound = this.numItemFound + 1\n      }\n    }\n\n    if (this.numItemFound === this.items.length && !this.isEnded) {\n      this.isEnded = true\n      window.GameManager.endScene()\n    }\n  }\n\n  handleRAF = e => {\n    const { now } = e.detail\n    this.acceleration = this.acceleration + (this.destAcceleration - this.acceleration) * this.coefAcceleration\n\n    // For each cursor...\n    for (let y = 0; y < window.GameManager.playerIds.length; y++) {\n      const player = window.GameManager.players[window.GameManager.playerIds[y]]\n\n      // clamp player position to limit of the scene\n      player.targetX = clamp(player.targetX, -window.GameManager.vbWidth / 2, window.GameManager.vbWidth / 2)\n      player.targetY = clamp(player.targetY, -window.GameManager.vbHeight / 2, window.GameManager.vbHeight / 2)\n\n      player.x += (player.targetX - player.x) * 0.1\n      player.y += (player.targetY - player.y) * 0.1\n\n\n      // For each points of the player (organic shape)\n      // Create organic shape / Tween all points\n      for (let i = 0; i < player.points.length; i++) {\n        const point = player.points[i]\n\n        // From scratch tween:\n        // percent is going from 0 to 1 in X seconds where X is the \"duration variable\".\n        // Each points starting value is going to his destination value in X seconds\n        // then I use easing functions to modify the value curve through time.\n        const percent = (now - point.startAnim) / point.duration * this.acceleration\n\n        point.x = point.startX + (point.destX - point.startX) * inOutSine(percent)\n        point.y = point.startY + (point.destY - point.startY) * inOutSine(percent)\n\n        if (percent >= 1) {\n          // end of animation,\n          // restart animation by going back\n          if (point.reverseAnim) {\n            point.startX = point.x\n            point.startY = point.y\n            point.destX = point.targetMaxX\n            point.destY = point.targetMaxY\n            point.reverseAnim = false\n            point.startAnim = getNow()\n          } else {\n            point.startX = point.x\n            point.startY = point.y\n            point.destX = point.targetMinX\n            point.destY = point.targetMinY\n            point.reverseAnim = true\n            point.startAnim = getNow()\n          }\n        }\n\n        // move player based on mouse\n        point.x += player.x\n        point.y += player.y\n\n        // For increasing player\n        // // if item found, increase player radius\n        // if (y === 0 && player.itemFound && !point.isIncrease) {\n        //   const newMaxRadius = player.maxRadius + this.increaseMax\n        //   const newMaxMiddleRadius = player.maxMiddleRadius + this.increaseMax\n        //   const newMinRadius = player.minRadius + this.increaseMax\n        //   const newMinMiddleRadius = player.minMiddleRadius + this.increaseMax\n        //   point.targetMaxX = player.centerX + Math.cos(point.angle) * random(newMaxMiddleRadius, newMaxRadius)\n        //   point.targetMinX = player.centerX + Math.cos(point.angle) * random(newMinRadius, newMinMiddleRadius)\n\n        //   point.destX = point.targetMaxX\n\n        //   point.targetMaxY = player.centerY + Math.sin(point.angle) * random(newMaxMiddleRadius, newMaxRadius)\n        //   point.targetMinY = player.centerY + Math.sin(point.angle) * random(newMinRadius, newMinMiddleRadius)\n\n        //   point.destY = point.targetMaxY\n        //   point.startAnim = getNow()\n\n        //   point.isIncrease = true\n        // }\n      }\n\n      player.el.setAttribute('d', this.cardinal(player.points))\n    }\n  }\n\n  // Create circle distorsion based on the given coordinates points\n  // Cardinal spline - a uniform Catmull-Rom spline with a tension option\n  cardinal(points, tension = 1.2) {\n    // 1 tension does not make a perfect round, why?\n    const nbPoints = points.length\n    if (nbPoints < 1) return 'M0 0'\n\n    let path = `M ${points[0].x} ${points[0].y} C`\n    // where M is the starting X,Y coords\n    // C is the 3 next points coord of a Cubic bezier\n\n    for (let i = 0; i < nbPoints; i++) {\n      const p0 = points[(i - 1 + nbPoints) % nbPoints]\n      const p1 = points[i]\n      const p2 = points[(i + 1) % nbPoints]\n      const p3 = points[(i + 2) % nbPoints]\n\n      const x1 = p1.x + (p2.x - p0.x) / 6 * tension\n      const y1 = p1.y + (p2.y - p0.y) / 6 * tension\n\n      const x2 = p2.x - (p3.x - p1.x) / 6 * tension\n      const y2 = p2.y - (p3.y - p1.y) / 6 * tension\n\n      // cubic Bezier\n      // x1 | The x-axis coordinate of the first control point.\n      // y1 | The y-axis coordinate of the first control point.\n      // x2 | The x-axis coordinate of the second control point.\n      // y2 | The y-axis coordinate of the second control point.\n      // p2.x | The x-axis coordinate of the end point.\n      // p2.y | The y-axis coordinate of the end point.\n      path += ` ${x1} ${y1} ${x2} ${y2} ${p2.x} ${p2.y}`\n    }\n\n    return `${path}z` // close path with z\n  }\n\n  destroy() {\n    this.events(false)\n    this.eventsRAF(false)\n  }\n}\n","export function getOffsetTop(elem) { // issues on ie11\n\n  if (!elem) {\n    return 0\n  }\n\n  const bounds = elem.getBoundingClientRect()\n  const bodyTop = window.scrollY || document.body.scrollTop\n\n  return bounds.top + bodyTop\n}\n\nexport function getOffsetLeft(elem) { // issues on ie11\n\n  if (!elem) {\n    return 0\n  }\n\n  const bounds = elem.getBoundingClientRect()\n\n  return bounds.left\n}\n","import { getNow } from '../utils/time'\nimport { random } from '../utils/math'\n\nexport default class Player {\n  constructor(props) {\n    const {\n      el,\n      id,\n      index,\n      color,\n    } = props\n\n    this.el = el\n    this.id = id\n    this.index = index\n    this.color = color\n    this.numPoints = 8\n    this.centerX = window.GameManager.vbWidth / 2 // equal to svg viewbox / 2\n    this.centerY = window.GameManager.vbHeight / 2 // equal to svg viewbox / 2\n    this.minRadius = window.GameManager.vbWidth * 0.05 // 70% of full size / 2 --> should be based on width viewbox\n    this.maxRadius = this.minRadius + this.minRadius * 0.2\n    this.minMiddleRadius = this.minRadius + (this.maxRadius - this.minRadius) * 0.45\n    this.maxMiddleRadius = this.minRadius + (this.maxRadius - this.minRadius) * 0.55\n    this.minDuration = 700\n    this.maxDuration = 900\n    // cursor position\n    this.x = 0\n    this.y = 0\n    this.targetX = 0\n    this.targetY = 0\n    this.isInsideTime = 0\n\n    this.setPoints()\n  }\n\n  setPoints() {\n    this.points = []\n    // create \"numPoints\" x points\n    const slice = (Math.PI * 2) / this.numPoints\n    this.startAngle = random(0, Math.PI * 2)\n\n    for (let i = 0; i < this.numPoints; i++) {\n      const margeAngle = random(0, 0.28) // i / 1.2\n      // randomize the start time of animation (we don't want the tween to go from 0 to 1, it can start directly from 0.6 for example)\n      const startAnim = getNow() + i * random(0, this.minDuration)\n      const angle = this.startAngle + i * slice + margeAngle\n      const duration = random(this.minDuration, this.maxDuration)\n\n      const point = {\n        angle,\n        duration,\n        startAnim,\n        x: this.centerX + Math.cos(angle) * random(this.minRadius, this.maxRadius),\n        y: this.centerY + Math.sin(angle) * random(this.minRadius, this.maxRadius),\n        targetMinX: this.centerX + Math.cos(angle) * random(this.minRadius, this.minMiddleRadius),\n        targetMinY: this.centerY + Math.sin(angle) * random(this.minRadius, this.minMiddleRadius),\n        targetMaxX: this.centerX + Math.cos(angle) * random(this.maxMiddleRadius, this.maxRadius),\n        targetMaxY: this.centerY + Math.sin(angle) * random(this.maxMiddleRadius, this.maxRadius),\n      }\n\n      point.startX = point.x\n      point.startY = point.y\n      point.destX = point.targetMaxX\n      point.destY = point.targetMaxY\n\n      this.points.push(point)\n    }\n  }\n}\n","import gameTmp from '../../../templates/front-end/game.html'\nimport setupTmp from '../../../templates/front-end/setup.html'\n\nimport Scene from '../components/Scene'\nimport Player from '../components/Player'\n\n// server\n// import Server from '../constants/Server'\n\n// assets\nimport scene1Bkg from '../../../assets/front-end/images/bkg1.jpg'\nimport scene1Item from '../../../assets/front-end/images/pattern.png'\nimport scene2Bkg from '../../../assets/front-end/images/find-cat.png'\n// import scene2Item from '../../../assets/front-end/images/pattern.png'\\\n\nconst host = window.location.origin.replace(/^http/, 'ws')\nconst debug = false\n\nconst playerIds = debug ? ['refiejrfer', 'erfjerfpie'] : []\nconst tokens = ['123', '456']\n\nexport default class GameManager {\n  constructor() {\n    this.main = document.querySelector('.main')\n    // Server.websocket.onopen = this.onWsOpen\n    this.websocket = new WebSocket(`${host}/game`)\n    this.websocket.onopen = this.onWsOpen\n\n    if (debug === true) {\n      this.init()\n    }\n  }\n\n  onWsOpen = () => {\n    this.main.innerHTML = setupTmp\n    this.setupMessage = this.main.querySelector('.setup__message')\n    this.websocket.onmessage = this.listenServer\n  }\n\n  listenServer = event => {\n    const data = event.data.split(',')\n\n    if (data[0] === 'token_submit') {\n      // loop into the tokens, if the token correspond, set up the id\n      let validToken = false\n      for (let i = 0; i < tokens.length; i++) {\n        if (tokens[i] === data[1] && data[2] !== this.firstPlayerId) {\n          // data[2] !== this.firstPlayerId In case second player use the token of the first player\n          playerIds.push(data[2])\n          this.websocket.send(`auth_result,${data[2]},1`)\n          validToken = true\n          this.firstPlayerId = data[2]\n          this.setupMessage.innerHTML = `Player ${playerIds.length} is ready`\n        }\n      }\n\n      if (validToken === false) {\n        this.websocket.send(`auth_result,${data[2]},0`)\n      }\n\n      if (playerIds.length === 2) {\n        // if both players are set, let's start\n        this.init()\n      }\n    } else if (data[0] === 'cursor_move') {\n      const x = parseFloat(data[2], 10) * this.vbWidth\n      const y = parseFloat(data[3], 10) * this.vbWidth\n      // we use vbWidth the same coeficient here to have the same speed movement on touchmove X and Y\n      this.players[data[1]].targetX = x + this.players[data[1]].targetX\n      this.players[data[1]].targetY = y + this.players[data[1]].targetY\n\n      // this.players[data[1]].targetX\n    } else if (data[0] === 'click') {\n      // data[1] needs to be the index of player (or id)\n      this.currentScene.handleClick(data[1])\n    }\n  }\n\n  init() {\n    this.websocket.send(`score,${playerIds[0]},0`)\n    this.main.innerHTML = gameTmp\n\n    this.element = document.querySelector('[game]')\n\n    // scores\n    this.scenes = [\n      {\n        bkg: scene1Bkg,\n        maskedBkg: scene1Bkg,\n        item: scene1Item,\n        numItems: 5,\n        gridCols: 4,\n        gridLines: 4,\n        effect: '?',\n      }, {\n        bkg: scene2Bkg,\n        maskedBkg: scene2Bkg,\n        item: scene1Item,\n        numItems: 5,\n        gridCols: 10,\n        gridLines: 10,\n        effect: '?',\n      }, {\n        bkg: scene1Bkg,\n        maskedBkg: scene1Bkg,\n        item: scene1Item,\n        numItems: 5,\n        gridCols: 4,\n        gridLines: 4,\n        effect: '?',\n      }, {\n        bkg: scene1Bkg,\n        maskedBkg: scene1Bkg,\n        item: scene1Item,\n        numItems: 5,\n        gridCols: 4,\n        gridLines: 4,\n        effect: '?',\n      },\n    ]\n    this.players = []\n    this.scores = [0, 0]\n    this.currentSceneIndex = 0\n\n    this.loadBkg()\n  }\n\n  loadBkg() {\n    // Load Current Scene image\n    const img = new Image()\n    img.src = this.scenes[this.currentSceneIndex].bkg\n    img.onload = () => {\n      // image loaded\n      this.dom()\n      this.setPlayers()\n\n      const scene = this.scenes[this.currentSceneIndex]\n\n      // add image placholder\n      this.dom.imagePlaceholder.src = scene.bkg\n\n      this.currentScene = new Scene({\n        el: this.dom.scene,\n        index: this.currentSceneIndex,\n        ...scene,\n      })\n    }\n  }\n\n  dom() {\n    this.dom = {\n      scene: this.element.querySelector('.scene'),\n      imagePlaceholder: this.element.querySelector('.scene__placeholder'),\n      cursors: this.element.querySelectorAll('.cursor'),\n      message: this.element.querySelector('.scene__message'),\n      scoreCenterRecap: this.element.querySelectorAll('.score__center__recap'),\n      scoreItems: this.element.querySelectorAll('.score__items'),\n      timer: this.element.querySelector('.timer'),\n    }\n  }\n\n  setPlayers() {\n    this.playerIds = playerIds\n    this.vbWidth = this.dom.imagePlaceholder.offsetWidth\n    this.vbHeight = this.dom.imagePlaceholder.offsetHeight\n    // assuming we always use a viewbox of 100 x 100\n\n    const colors = [\n      'red',\n      'blue',\n    ]\n\n    // each player is an object with a key/id\n    this.players = {}\n    if (playerIds.length === 2) {\n      this.players[playerIds[0]] = new Player({\n        el: this.dom.cursors[0],\n        index: 0,\n        color: colors[0],\n        id: playerIds[0],\n      })\n      this.players[playerIds[1]] = new Player({\n        el: this.dom.cursors[1],\n        index: 1,\n        color: colors[1],\n        id: playerIds[1],\n      })\n    }\n  }\n\n  startTimer(duration) {\n    let timer = duration\n    let seconds\n\n    this.dom.timer.innerHTML = duration\n\n    this.timerInterval = setInterval(() => {\n      seconds = parseInt(timer, 10)\n      seconds = seconds < 10 ? `0${seconds}` : seconds\n\n      this.dom.timer.innerHTML = seconds\n\n      if (timer === 0) {\n        this.endScene('TIME OUT!')\n      }\n\n      timer -= 1\n    }, 1000)\n  }\n\n  score(player, item) {\n    this.popUpMessage('+1', player.color) // + color player\n\n    this.scores[player.index] += 1\n    this.element.classList.add('item-found')\n\n    for (let i = 0; i < this.dom.scoreCenterRecap.length; i++) {\n      if (i === player.index) {\n        this.dom.scoreCenterRecap[i].innerHTML = `P-${player.index + 1} : ${this.scores[player.index]}`\n      }\n    }\n\n    const img = document.createElement('img')\n    img.src = item\n    img.classList.add('score__item')\n    this.dom.scoreItems[player.index].appendChild(img)\n\n    this.websocket.send(`score,${player.id},${this.scores[player.index]}`)\n  }\n\n  popUpMessage(message, color = 'gray', end = false) {\n    const div = document.createElement('div')\n    div.classList.add('message', 't-120--bold', `color--${color}`)\n    if (end) {\n      div.classList.add('message-end')\n    }\n    div.innerHTML = message\n    this.dom.scene.appendChild(div)\n\n    setTimeout(() => {\n      div.remove()\n    }, 2000)\n  }\n\n  endScene(message = 'end of scene') {\n    clearInterval(this.timerInterval)\n    this.popUpMessage(message, 'black', true)\n    setTimeout(() => {\n      this.updateScene(this.currentSceneIndex + 1)\n    }, 2000)\n  }\n\n  updateScene(index) {\n    if (index === this.scenes.length) {\n      console.log('end of party')\n      this.websocket.send('disconnect_all_users')\n    }\n    this.destroyScene(this.currentScene)\n\n    this.currentSceneIndex = index\n    const scene = this.scenes[this.currentSceneIndex]\n\n    this.currentScene = new Scene({\n      el: this.dom.scene,\n      index: this.currentSceneIndex,\n      ...scene,\n    })\n  }\n\n  destroyScene(scene) {\n    // clean component\n    if (scene.destroy instanceof Function) {\n      scene.destroy()\n    }\n  }\n}\n","import '../../scss/front-end/style.scss'\n\nimport './managers/RAFManager'\nimport GameManager from './managers/GameManager'\n\n// not working anymore for some reason\n(() => {\n  // import GameMananger when DOM is ready\n  window.GameManager = new GameManager()\n})()\n"],"sourceRoot":""}